{{ define "main" }}
  <article>
    <div class="overlay">
      <video
        id="room-video"
        class="hero-room"
        autoplay
        muted
        loop
        playsinline
        data-video="{{ .File.TranslationBaseName }}_1080p"
        data-mobile-path="mobile/"
        data-hd-path="hd/"
      ></video>

      {{ if eq .Site.Language.Lang "de" }}
        <img
          src="/images/rooms_text/{{ .File.TranslationBaseName }}.de.svg"
          alt="{{ .File.TranslationBaseName }} text"
        />
      {{ else if eq .Site.Language.Lang "en" }}
        <img
          src="/images/rooms_text/{{ .File.TranslationBaseName }}.en.svg"
          alt="{{ .File.TranslationBaseName }} text"
        />
      {{ end }}


      <div class="divider">
        <div class="separator" aria-hidden="true">
          <div class="line"></div>
          <svg
            class="icon"
            viewBox="0 0 24 24"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path
              d="M12 2C6.48 2 2 6.48 2 12s4.48 
          10 10 10 10-4.48 10-10S17.52 2 
          12 2zm3.41 7.41l-4.59 4.59c-.39.39-1.02.39-1.41 
          0l-2.59-2.59c-.39-.39-.39-1.02 0-1.41s1.02-.39 
          1.41 0L9 11.59l3.18-3.18c.63-.63 1.71-.19 
          1.71.71v.29c0 .26.11.52.29.7.18.18.44.29.71.29h.29c.9 
          0 1.33.08.71.71zM11 8c0-.55-.45-1-1-1s-1 
          .45-1 1 .45 1 1 1 1-.45 1-1z"
            />
          </svg>
          <div class="line"></div>
        </div>
      </div>
    </div>

    <div class="room__meta">
      <dl>
        {{ with .Params.players }}
          <div class="room__meta-item">
            <dt>{{ i18n "players" | humanize }}:</dt>
            <dd>{{ . }}</dd>
          </div>
        {{ end }}
        {{ with .Params.idealPlayers }}
          <div class="room__meta-item">
            <dt>Ideal for:</dt>
            <dd>{{ . }}</dd>
          </div>
        {{ end }}
        {{ with .Params.minAge }}
          <div class="room__meta-item">
            <dt>Minimum age:</dt>
            <dd>{{ . }}</dd>
          </div>
        {{ end }}
      </dl>
    </div>

    <header class="room__header">
      <h1 class="room__title">{{ .Title }}</h1>
      {{ with .Params.shortDescription }}
        <p class="room__short-description">{{ . }}</p>
      {{ end }}
    </header>
    <div class="room__info">
      {{ with .Params.accessibility }}
        <div class="room__footer-section">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 text-primary shrink-0"
            viewBox="0 0 24 24"
            fill="currentColor"
            width="24px"
            height="24px"
          >
            <path
              d="M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z"
            ></path>
          </svg>
          <h3 class="room__footer-title">Accessibility</h3>
          <p>{{ . }}</p>
        </div>
      {{ end }}
      {{ with .Params.warnings }}
        <div class="room__footer-section">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24px"
            height="24px"
            viewBox="0 -960 960 960"
            fill="currentColor"
          >
            <path
              d="m40-120 440-760 440 760H40Zm138-80h604L480-720 178-200Zm302-40q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm-40-120h80v-200h-80v200Zm40-100Z"
            />
          </svg>
          <h3 class="room__footer-title">Warnings</h3>
          <p>{{ . }}</p>
        </div>
      {{ end }}
      {{ with .Params.note }}
        <div class="room__footer-section">
          <svg
            width="24px"
            height="24px"
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 text-primary shrink-0"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <path
              fill-rule="evenodd"
              d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
              clip-rule="evenodd"
            ></path>
          </svg>
          <h3 class="room__footer-title">Note</h3>
          <p>{{ . }}</p>
        </div>
      {{ end }}
    </div>
    <div class="divider">
      <div class="separator" aria-hidden="true">
        <div class="line"></div>
        <svg
          class="icon"
          viewBox="0 0 24 24"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M12 2C6.48 2 2 6.48 2 12s4.48 
          10 10 10 10-4.48 10-10S17.52 2 
          12 2zm3.41 7.41l-4.59 4.59c-.39.39-1.02.39-1.41 
          0l-2.59-2.59c-.39-.39-.39-1.02 0-1.41s1.02-.39 
          1.41 0L9 11.59l3.18-3.18c.63-.63 1.71-.19 
          1.71.71v.29c0 .26.11.52.29.7.18.18.44.29.71.29h.29c.9 
          0 1.33.08.71.71zM11 8c0-.55-.45-1-1-1s-1 
          .45-1 1 .45 1 1 1 1-.45 1-1z"
          />
        </svg>
        <div class="line"></div>
      </div>
      <span class="section-title">Die Geschichte</span>
    </div>

    {{ with .Params.longDescription }}
      <div class="room__content">
        {{ . | markdownify }}
      </div>
    {{ end }}
    <div class="divider">
      <div class="separator" aria-hidden="true">
        <div class="line"></div>
        <svg
          class="icon"
          viewBox="0 0 24 24"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M12 2C6.48 2 2 6.48 2 12s4.48 
          10 10 10 10-4.48 10-10S17.52 2 
          12 2zm3.41 7.41l-4.59 4.59c-.39.39-1.02.39-1.41 
          0l-2.59-2.59c-.39-.39-.39-1.02 0-1.41s1.02-.39 
          1.41 0L9 11.59l3.18-3.18c.63-.63 1.71-.19 
          1.71.71v.29c0 .26.11.52.29.7.18.18.44.29.71.29h.29c.9 
          0 1.33.08.71.71zM11 8c0-.55-.45-1-1-1s-1 
          .45-1 1 .45 1 1 1 1-.45 1-1z"
          />
        </svg>
        <div class="line"></div>
      </div>
      <span class="section-title">... direkt hier buchen!</span>
    </div>
    <div id="shop-anchor"></div>
    <div class="room__content">
      {{ .Content }}
    </div>
  </article>
{{ end }}

{{ define "js" }}
  <script src="/js/room-video.js"></script>
  <script src="/js/init-shop.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      initShop();
    });
  </script>
{{ end }}
