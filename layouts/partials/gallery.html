{{ $rooms := where .Site.RegularPages "Section" "rooms" }} {{ $lang_rooms := where $rooms "Lang"
.Site.Language.Lang }}

<div class="gallery-container">
  <div class="gallery-slider">
    {{ range $lang_rooms }}
    {{ $video_name := .File.BaseFileName | strings.TrimSuffix (printf ".%s" .Lang) }}
    {{ $video_path_webm := printf "/videos/portrait/%s_portrait_450x800_av1.webm" $video_name }}
    {{ $video_path_hevc := printf "/videos/portrait/%s_portrait_450x800_h264.mp4" $video_name }}
    {{ $video_path_h264 := printf "/videos/portrait/%s_portrait_450x800_hevc.mp4" $video_name }}

    <div class="gallery-item">
      <video class="gallery-video" autoplay loop muted playsinline>
        <source src="{{ $video_path_webm }}" type="video/webm">
        <source src="{{ $video_path_hevc }}" type='video/mp4; codecs="hvc1"'>
        <source src="{{ $video_path_h264 }}" type="video/mp4">
      </video>
      <div class="gallery-item-caption">
        <h3>{{ .Title }}</h3>
        <a href="{{ .Permalink }}" class="cta-link">{{ i18n "view_details" }}</a>
      </div>
    </div>
    {{ end }}
  </div>
  <button class="gallery-nav prev" aria-label="Previous image">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-6 w-6"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M15 19l-7-7 7-7"
      ></path>
    </svg>
  </button>
  <button class="gallery-nav next" aria-label="Next image">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-6 w-6"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
    </svg>
  </button>
</div>
